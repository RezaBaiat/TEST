<!DOCTYPE html>

<html>
<head>
  <title>HOWTO.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="..\docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="..\index.html">
                  index.js
                </a>
              
                
                <a class="source" href="..\src\assets\styles\App.html">
                  src/assets/styles/App.js
                </a>
              
                
                <a class="source" href="..\src\assets\styles\Base.html">
                  src/assets/styles/Base.js
                </a>
              
                
                <a class="source" href="..\src\assets\styles\Constants.html">
                  src/assets/styles/Constants.js
                </a>
              
                
                <a class="source" href="..\src\configs\Application.html">
                  src/configs/Application.js
                </a>
              
                
                <a class="source" href="..\src\configs\LocalNotifications.html">
                  src/configs/LocalNotifications.js
                </a>
              
                
                <a class="source" href="..\src\configs\Locale.html">
                  src/configs/Locale.js
                </a>
              
                
                <a class="source" href="..\src\configs\Permission.html">
                  src/configs/Permission.js
                </a>
              
                
                <a class="source" href="..\src\configs\PushNotifications.html">
                  src/configs/PushNotifications.js
                </a>
              
                
                <a class="source" href="..\src\configs\network\Gateway.html">
                  src/configs/network/Gateway.js
                </a>
              
                
                <a class="source" href="..\src\configs\network\Health.html">
                  src/configs/network/Health.js
                </a>
              
                
                <a class="source" href="..\src\configs\network\Security.html">
                  src/configs/network/Security.js
                </a>
              
                
                <a class="source" href="..\src\configs\network\Socket.html">
                  src/configs/network/Socket.js
                </a>
              
                
                <a class="source" href="..\src\configs\redux\Store.html">
                  src/configs/redux/Store.js
                </a>
              
                
                <a class="source" href="..\src\helpers\Logger.html">
                  src/helpers/Logger.js
                </a>
              
                
                <a class="source" href="..\src\notifications\GeneralPushNotificationHandler.html">
                  src/notifications/GeneralPushNotificationHandler.js
                </a>
              
                
                <a class="source" href="..\src\notifications\LocalNotificationsHandler.html">
                  src/notifications/LocalNotificationsHandler.js
                </a>
              
                
                <a class="source" href="..\src\notifications\PushNotificationListenerInterface.html">
                  src/notifications/PushNotificationListenerInterface.js
                </a>
              
                
                <a class="source" href="..\src\permissions\PermissionsHandler.html">
                  src/permissions/PermissionsHandler.js
                </a>
              
                
                <a class="source" href="..\src\redux\general\GlobalActions.html">
                  src/redux/general/GlobalActions.js
                </a>
              
                
                <a class="source" href="..\src\redux\general\GlobalConstants.html">
                  src/redux/general/GlobalConstants.js
                </a>
              
                
                <a class="source" href="..\src\redux\general\GlobalReducer.html">
                  src/redux/general/GlobalReducer.js
                </a>
              
                
                <a class="source" href="..\src\redux\general\GlobalSaga.html">
                  src/redux/general/GlobalSaga.js
                </a>
              
                
                <a class="source" href="..\src\redux\general\GlobalSelectors.html">
                  src/redux/general/GlobalSelectors.js
                </a>
              
                
                <a class="source" href="..\src\resources\Animations.html">
                  src/resources/Animations.js
                </a>
              
                
                <a class="source" href="..\src\resources\Colors.html">
                  src/resources/Colors.js
                </a>
              
                
                <a class="source" href="..\src\resources\Images.html">
                  src/resources/Images.js
                </a>
              
                
                <a class="source" href="..\src\resources\R.html">
                  src/resources/R.js
                </a>
              
                
                <a class="source" href="..\src\resources\Strings.html">
                  src/resources/Strings.js
                </a>
              
                
                <a class="source" href="..\src\routes\AppNavigator.html">
                  src/routes/AppNavigator.js
                </a>
              
                
                <a class="source" href="..\src\routes\Routes.html">
                  src/routes/Routes.js
                </a>
              
                
                <a class="source" href="..\src\services\GeneralService.html">
                  src/services/GeneralService.js
                </a>
              
                
                <a class="source" href="..\src\socket\SocketListener.html">
                  src/socket/SocketListener.js
                </a>
              
                
                <a class="source" href="App.test.html">
                  test/App.test.js
                </a>
              
                
                <a class="source" href="HOWTO.html">
                  test/HOWTO.md
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>HOWTO.md</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>examples:<br><a href="https://www.tangentsolutions.co.za/2017/07/03/unit-testing-react-native-with-mocha-chai-sinon-enzyme-and-istanbul/">https://www.tangentsolutions.co.za/2017/07/03/unit-testing-react-native-with-mocha-chai-sinon-enzyme-and-istanbul/</a>
<a href="http://www.darrenbeck.co.uk/react/testing/testing-part1/">http://www.darrenbeck.co.uk/react/testing/testing-part1/</a></p>
<p><a href="https://codeburst.io/javascript-unit-testing-using-mocha-and-chai-1d97d9f18e71">https://codeburst.io/javascript-unit-testing-using-mocha-and-chai-1d97d9f18e71</a>
<a href="https://medium.com/the-web-tub/mocha-chai-js-unit-testing-for-es6-with-istanbul-code-coverage-11b2a141a446">https://medium.com/the-web-tub/mocha-chai-js-unit-testing-for-es6-with-istanbul-code-coverage-11b2a141a446</a></p>
<h1> Mocha </h1>  

<ul>
<li><p><b> assert </b> helps to determine the status of the test, it determines failure of the test</p>
</li>
<li><p><b> describe </b> is a function which holds the collection of tests. It takes two parameters, first one is the meaningful name to functionality under test and second one is the function which contains one or multiple tests. We can have nested describe as well.</p>
</li>
<li><p><b> it </b> is a function again which is actually a test itself and takes two parameters, first parameter is name to the test and second parameter is function which holds the body of the test.</p>
</li>
</ul>
<p><b>Test Assertion</b> </p>
<ul>
<li><b> Assertion </b> is an expression which helps system (Mocha in this case) to know code under test failed.</li>
<li><b> Assertâ€™s </b> job is to just throw an error when things are not correct or right.</li>
<li><b> Assert </b> tests the expression and it does nothing when expression passes but throws exception in case of failure to tell the test framework about it.</li>
<li>We can just throw an exception to fail the test as well.</li>
</ul>
<p><b>Hooks like beforeEach and afterEach</b> </p>
<ul>
<li>Few steps or code we might want to execute before or after each test to either setup preconditions before test or cleanup after test. so those code can be put inside beforeEach() and afterEach() methods.</li>
<li>It is always good practice to have named function or description to hooks, which helps to identify errors quickly in tests.</li>
</ul>
<pre><code class="language-javascript">
<span class="hljs-keyword">var</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">'assert'</span>);
describe(<span class="hljs-string">'Basic Mocha String Test'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
it(<span class="hljs-string">'should return number of charachters in a string'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
assert.equal(<span class="hljs-string">"Hello"</span>.length, <span class="hljs-number">4</span>);
});
it(<span class="hljs-string">'should return first charachter of the string'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
assert.equal(<span class="hljs-string">"Hello"</span>.charAt(<span class="hljs-number">0</span>), <span class="hljs-string">'H'</span>);
});
});
</code></pre>
<pre><code class="language-javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isValidUserIdAsync</span>(<span class="hljs-params">userList, user, callback</span>) </span>{
setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
callback(userList.indexOf(user) &gt;= <span class="hljs-number">0</span>)
}, <span class="hljs-number">1</span>);
}   
Note: setTimeout has been used to simulate the <span class="hljs-keyword">async</span> behavior.
<span class="hljs-comment">/* Test */</span>
it(<span class="hljs-string">'should return true if valid user id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>)</span>{
loginController.isValidUserIdAsync([<span class="hljs-string">'abc123'</span>,<span class="hljs-string">'xyz321'</span>], <span class="hljs-string">'abc123'</span>,
<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">isValid</span>)</span>{
assert.equal(isValid, <span class="hljs-literal">true</span>);
done();
});
});
</code></pre>
<pre><code class="language-javascript">beforeEach(<span class="hljs-string">'Setting up the userList'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'beforeEach'</span>);
loginController.loadUserList([<span class="hljs-string">'abc123'</span>,<span class="hljs-string">'xyz321'</span>]);
});
describe(<span class="hljs-string">'LoginController'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
...
}</code></pre>
<h1> Chai </h1>  

<p><b> Assertion interfaces and styles </b></p>
<ul>
<li><p>The <b> excpect </b> interface provides function for assertion.</p>
</li>
<li><p>The <b> should </b> interface extends each object with a should property for assertion.</p>
</li>
<li><p><b> should </b> property gets added to the Object.Prototype, so that all object can access it through prototype chain.</p>
</li>
<li><p><b> only() </b> method helps to run specific test or test-suite. we can have multiple only() in entire test-suite.</p>
</li>
</ul>
<pre><code class="language-javascript"><span class="hljs-keyword">var</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">'assert'</span>);
<span class="hljs-keyword">var</span> expect = <span class="hljs-built_in">require</span>(<span class="hljs-string">'chai'</span>).expect;
<span class="hljs-keyword">var</span> should = <span class="hljs-built_in">require</span>(<span class="hljs-string">'chai'</span>).should();
it(<span class="hljs-string">'should return true if valid user id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> isValid = loginController.isValidUserId(<span class="hljs-string">'abc123'</span>)
<span class="hljs-comment">//assert.equal(isValid, true);</span>
expect(isValid).to.be.true;
});
it(<span class="hljs-string">'should return false if invalid user id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> isValid = loginController.isValidUserId(<span class="hljs-string">'abc1234'</span>)
<span class="hljs-comment">//assert.equal(isValid, false);</span>
isValid.should.equal(<span class="hljs-literal">false</span>);
});</code></pre>
<pre><code class="language-javascript"><span class="hljs-keyword">var</span> should = <span class="hljs-built_in">require</span>(<span class="hljs-string">'chai'</span>).should();
it(<span class="hljs-string">'should have property name with value Figo'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> car = {<span class="hljs-attr">name</span>:<span class="hljs-string">'Figo'</span>, <span class="hljs-attr">Maker</span>:<span class="hljs-string">'Ford'</span>};
car.should.have.property(<span class="hljs-string">'name'</span>).equal(<span class="hljs-string">'Figo'</span>);
});
it(<span class="hljs-string">'Checking for null'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> car = <span class="hljs-literal">null</span>;
<span class="hljs-comment">//car.should.not.exist; (Cannot read property 'should' of null)</span>
should.not.exist(car);
});</code></pre>
<pre><code class="language-javascript">describe(<span class="hljs-string">'LoginController'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
describe(<span class="hljs-string">'isValidUserId'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
it.skip(<span class="hljs-string">'should return true if valid user id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
...
});
it(<span class="hljs-string">'should return false if invalid user id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
...
});
});
describe.skip(<span class="hljs-string">'isValidUserIdAsync'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
it(<span class="hljs-string">'should return true if valid user id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>)</span>{
...    
});
});
});</code></pre>
<pre><code class="language-javascript">describe(<span class="hljs-string">'LoginController'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
describe(<span class="hljs-string">'isValidUserId'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
it.only(<span class="hljs-string">'should return true if valid user id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
...
});
it(<span class="hljs-string">'should return false if invalid user id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
...
});
});
describe.only(<span class="hljs-string">'isValidUserIdAsync'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
it(<span class="hljs-string">'should return true if valid user id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>)</span>{
...    
});
});
});</code></pre>

            </div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
